<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£è¡Œé¸Ÿæ¸¸æˆ | Flappy Bird</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            touch-action: manipulation;
        }

        .game-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        h1 {
            color: white;
            font-size: 1.8em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .language-selector select {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 0.9em;
            cursor: pointer;
        }

        #gameCanvas {
            width: 100%;
            height: 500px;
            background: linear-gradient(to bottom, #87CEEB, #E0F7FF);
            border-radius: 15px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            display: block;
        }

        .controls {
            margin-top: 20px;
            text-align: center;
            color: white;
            font-size: 0.9em;
            opacity: 0.8;
        }

        .menu {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .menu h2 {
            color: white;
            margin-bottom: 30px;
            font-size: 2em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .menu button {
            background: linear-gradient(135deg, #FF512F, #F09819);
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 10px 0;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            width: 80%;
            max-width: 250px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .menu button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .menu button:active {
            transform: translateY(-1px);
        }

        .difficulty-buttons {
            display: flex;
            flex-direction: column;
            width: 80%;
            max-width: 250px;
        }

        .settings-menu {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            width: 90%;
            max-width: 300px;
        }

        .settings-menu h3 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .setting-item {
            margin: 15px 0;
        }

        .setting-item label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: bold;
        }

        .setting-item select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }

        .coming-soon {
            background: #ffeb3b !important;
            color: #333 !important;
            position: relative;
        }

        .coming-soon::after {
            content: " ğŸ«“";
        }

        .score-display {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 3em;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            z-index: 5;
        }

        .game-over {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            color: white;
        }

        .game-over h2 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .game-over p {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .back-button {
            background: #2196F3 !important;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .game-container {
                max-width: 100%;
                padding: 15px;
            }
            
            #gameCanvas {
                height: 400px;
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            .menu h2 {
                font-size: 1.8em;
            }
            
            .menu button {
                padding: 12px 25px;
                font-size: 1.1em;
            }
        }

        @media (max-width: 480px) {
            #gameCanvas {
                height: 350px;
            }
            
            .header {
                flex-direction: column;
                gap: 10px;
            }
            
            .score-display {
                font-size: 2.5em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1 id="game-title">é£è¡Œé¸Ÿæ¸¸æˆ</h1>
            <div class="language-selector">
                <select id="languageSelect">
                    <option value="zh">ä¸­æ–‡</option>
                    <option value="en">English</option>
                    <option value="es">EspaÃ±ol</option>
                    <option value="fr">FranÃ§ais</option>
                    <option value="de">Deutsch</option>
                    <option value="ja">æ—¥æœ¬èª</option>
                    <option value="ko">í•œêµ­ì–´</option>
                </select>
            </div>
        </div>

        <canvas id="gameCanvas"></canvas>
        
        <div class="controls" id="controls">
            æŒ‰ç©ºæ ¼é”®æˆ–ç‚¹å‡»å±å¹•è®©å°é¸Ÿé£è¡Œ
        </div>

        <div class="score-display" id="scoreDisplay">0</div>

        <div class="menu" id="mainMenu">
            <h2 id="menu-title">é£è¡Œé¸Ÿæ¸¸æˆ</h2>
            <button id="startBtn">å¼€å§‹æ¸¸æˆ</button>
            <button id="difficultyBtn">é€‰æ‹©éš¾åº¦</button>
            <button id="settingsBtn">è®¾ç½®</button>
        </div>

        <div class="menu" id="difficultyMenu" style="display: none;">
            <h2 id="difficulty-title">é€‰æ‹©éš¾åº¦</h2>
            <div class="difficulty-buttons">
                <button id="easyBtn" data-difficulty="easy">ç®€å•æ¨¡å¼</button>
                <button id="normalBtn" data-difficulty="normal">æ­£å¸¸æ¨¡å¼</button>
                <button id="hardBtn" data-difficulty="hard">åœ°ç‹±æ¨¡å¼</button>
            </div>
            <button class="back-button" id="backFromDifficulty">è¿”å›</button>
        </div>

        <div class="menu" id="settingsMenu" style="display: none;">
            <div class="settings-menu">
                <h3 id="settings-title">è®¾ç½®</h3>
                <div class="setting-item">
                    <label id="game-mode-label">æ¸¸æˆæ¨¡å¼</label>
                    <select id="gameMode">
                        <option value="endless">æ— å°½æ¨¡å¼</option>
                        <option value="level" disabled>å…³å¡æ¨¡å¼ ğŸ«“</option>
                        <option value="time" disabled>æ—¶é—´æŒ‘æˆ˜ ğŸ«“</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label id="sound-label">å£°éŸ³</label>
                    <select id="soundSetting">
                        <option value="on">å¼€å¯</option>
                        <option value="off">å…³é—­</option>
                    </select>
                </div>
                <button class="back-button" id="backFromSettings" style="width: 100%; margin-top: 20px;">è¿”å›</button>
            </div>
        </div>

        <div class="game-over" id="gameOverMenu" style="display: none;">
            <h2 id="game-over-title">æ¸¸æˆç»“æŸ</h2>
            <p id="final-score">å¾—åˆ†: 0</p>
            <button id="restartBtn">å†ç©ä¸€æ¬¡</button>
            <button class="back-button" id="backToMenu">è¿”å›ä¸»èœå•</button>
        </div>
    </div>

    <script>
        // å¤šè¯­è¨€æ–‡æœ¬
        const translations = {
            zh: {
                title: "é£è¡Œé¸Ÿæ¸¸æˆ",
                menuTitle: "é£è¡Œé¸Ÿæ¸¸æˆ",
                difficultyTitle: "é€‰æ‹©éš¾åº¦",
                settingsTitle: "è®¾ç½®",
                startBtn: "å¼€å§‹æ¸¸æˆ",
                difficultyBtn: "é€‰æ‹©éš¾åº¦",
                settingsBtn: "è®¾ç½®",
                easyBtn: "ç®€å•æ¨¡å¼",
                normalBtn: "æ­£å¸¸æ¨¡å¼",
                hardBtn: "åœ°ç‹±æ¨¡å¼",
                backBtn: "è¿”å›",
                gameModeLabel: "æ¸¸æˆæ¨¡å¼",
                soundLabel: "å£°éŸ³",
                on: "å¼€å¯",
                off: "å…³é—­",
                controls: "æŒ‰ç©ºæ ¼é”®æˆ–ç‚¹å‡»å±å¹•è®©å°é¸Ÿé£è¡Œ",
                gameOver: "æ¸¸æˆç»“æŸ",
                finalScore: "å¾—åˆ†",
                restartBtn: "å†ç©ä¸€æ¬¡",
                backToMenu: "è¿”å›ä¸»èœå•"
            },
            en: {
                title: "Flappy Bird",
                menuTitle: "Flappy Bird",
                difficultyTitle: "Select Difficulty",
                settingsTitle: "Settings",
                startBtn: "Start Game",
                difficultyBtn: "Select Difficulty",
                settingsBtn: "Settings",
                easyBtn: "Easy Mode",
                normalBtn: "Normal Mode",
                hardBtn: "Hard Mode",
                backBtn: "Back",
                gameModeLabel: "Game Mode",
                soundLabel: "Sound",
                on: "On",
                off: "Off",
                controls: "Press SPACE or tap screen to fly",
                gameOver: "Game Over",
                finalScore: "Score",
                restartBtn: "Play Again",
                backToMenu: "Back to Menu"
            },
            es: {
                title: "PÃ¡jaro Volador",
                menuTitle: "PÃ¡jaro Volador",
                difficultyTitle: "Seleccionar Dificultad",
                settingsTitle: "ConfiguraciÃ³n",
                startBtn: "Comenzar Juego",
                difficultyBtn: "Seleccionar Dificultad",
                settingsBtn: "ConfiguraciÃ³n",
                easyBtn: "Modo FÃ¡cil",
                normalBtn: "Modo Normal",
                hardBtn: "Modo DifÃ­cil",
                backBtn: "Volver",
                gameModeLabel: "Modo de Juego",
                soundLabel: "Sonido",
                on: "Activado",
                off: "Desactivado",
                controls: "Presiona ESPACIO o toca la pantalla para volar",
                gameOver: "Juego Terminado",
                finalScore: "PuntuaciÃ³n",
                restartBtn: "Jugar Otra Vez",
                backToMenu: "Volver al MenÃº"
            },
            fr: {
                title: "Oiseau Volant",
                menuTitle: "Oiseau Volant",
                difficultyTitle: "SÃ©lectionner la DifficultÃ©",
                settingsTitle: "ParamÃ¨tres",
                startBtn: "Commencer le Jeu",
                difficultyBtn: "SÃ©lectionner la DifficultÃ©",
                settingsBtn: "ParamÃ¨tres",
                easyBtn: "Mode Facile",
                normalBtn: "Mode Normal",
                hardBtn: "Mode Difficile",
                backBtn: "Retour",
                gameModeLabel: "Mode de Jeu",
                soundLabel: "Son",
                on: "ActivÃ©",
                off: "DÃ©sactivÃ©",
                controls: "Appuyez sur ESPACE ou touchez l'Ã©cran pour voler",
                gameOver: "Jeu TerminÃ©",
                finalScore: "Score",
                restartBtn: "Rejouer",
                backToMenu: "Retour au Menu"
            },
            de: {
                title: "Flattervogel",
                menuTitle: "Flattervogel",
                difficultyTitle: "Schwierigkeit WÃ¤hlen",
                settingsTitle: "Einstellungen",
                startBtn: "Spiel Starten",
                difficultyBtn: "Schwierigkeit WÃ¤hlen",
                settingsBtn: "Einstellungen",
                easyBtn: "Einfacher Modus",
                normalBtn: "Normaler Modus",
                hardBtn: "Schwerer Modus",
                backBtn: "ZurÃ¼ck",
                gameModeLabel: "Spielmodus",
                soundLabel: "Sound",
                on: "An",
                off: "Aus",
                controls: "DrÃ¼cke LEERTASTE oder tippe auf den Bildschirm zum Fliegen",
                gameOver: "Spiel Vorbei",
                finalScore: "Punktzahl",
                restartBtn: "Nochmal Spielen",
                backToMenu: "ZurÃ¼ck zum MenÃ¼"
            },
            ja: {
                title: "ãƒ•ãƒ©ãƒƒãƒ”ãƒ¼ãƒãƒ¼ãƒ‰",
                menuTitle: "ãƒ•ãƒ©ãƒƒãƒ”ãƒ¼ãƒãƒ¼ãƒ‰",
                difficultyTitle: "é›£æ˜“åº¦ã‚’é¸æŠ",
                settingsTitle: "è¨­å®š",
                startBtn: "ã‚²ãƒ¼ãƒ é–‹å§‹",
                difficultyBtn: "é›£æ˜“åº¦ã‚’é¸æŠ",
                settingsBtn: "è¨­å®š",
                easyBtn: "ã‚¤ãƒ¼ã‚¸ãƒ¼ãƒ¢ãƒ¼ãƒ‰",
                normalBtn: "ãƒãƒ¼ãƒãƒ«ãƒ¢ãƒ¼ãƒ‰",
                hardBtn: "ãƒãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰",
                backBtn: "æˆ»ã‚‹",
                gameModeLabel: "ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰",
                soundLabel: "ã‚µã‚¦ãƒ³ãƒ‰",
                on: "ã‚ªãƒ³",
                off: "ã‚ªãƒ•",
                controls: "ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã¾ãŸã¯ç”»é¢ã‚¿ãƒƒãƒ—ã§é£›ã¶",
                gameOver: "ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼",
                finalScore: "ã‚¹ã‚³ã‚¢",
                restartBtn: "ã‚‚ã†ä¸€åº¦éŠã¶",
                backToMenu: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹"
            },
            ko: {
                title: "í”Œë˜í”¼ ë²„ë“œ",
                menuTitle: "í”Œë˜í”¼ ë²„ë“œ",
                difficultyTitle: "ë‚œì´ë„ ì„ íƒ",
                settingsTitle: "ì„¤ì •",
                startBtn: "ê²Œì„ ì‹œì‘",
                difficultyBtn: "ë‚œì´ë„ ì„ íƒ",
                settingsBtn: "ì„¤ì •",
                easyBtn: "ì‰¬ì›€ ëª¨ë“œ",
                normalBtn: "ë³´í†µ ëª¨ë“œ",
                hardBtn: "ì–´ë ¤ì›€ ëª¨ë“œ",
                backBtn: "ë’¤ë¡œ",
                gameModeLabel: "ê²Œì„ ëª¨ë“œ",
                soundLabel: "ì†Œë¦¬",
                on: "ì¼œê¸°",
                off: "ë„ê¸°",
                controls: "ìŠ¤í˜ì´ìŠ¤ë°” ë˜ëŠ” í™”ë©´ íƒ­ìœ¼ë¡œ ë‚ ê¸°",
                gameOver: "ê²Œì„ ì˜¤ë²„",
                finalScore: "ì ìˆ˜",
                restartBtn: "ë‹¤ì‹œ í•˜ê¸°",
                backToMenu: "ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°"
            }
        };

        // æ¸¸æˆå˜é‡
        let canvas, ctx;
        let bird, pipes;
        let gameSpeed = 2;
        let gravity = 0.5;
        let score = 0;
        let gameRunning = false;
        let currentLanguage = 'zh';
        let difficulty = 'normal';

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            canvas = document.getElementById('gameCanvas');
            ctx = canvas.getContext('2d');
            
            // è®¾ç½®ç”»å¸ƒå°ºå¯¸
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // åˆå§‹åŒ–å°é¸Ÿ
            bird = {
                x: canvas.width / 3,
                y: canvas.height / 2,
                width: 30,
                height: 24,
                velocity: 0,
                jump: -8
            };
            
            // åˆå§‹åŒ–ç®¡é“
            pipes = [];
            
            // é‡ç½®åˆ†æ•°
            score = 0;
            updateScore();
            
            // æ ¹æ®éš¾åº¦è°ƒæ•´å‚æ•°
            switch(difficulty) {
                case 'easy':
                    gameSpeed = 1.5;
                    gravity = 0.4;
                    bird.jump = -7;
                    break;
                case 'normal':
                    gameSpeed = 2;
                    gravity = 0.5;
                    bird.jump = -8;
                    break;
                case 'hard':
                    gameSpeed = 3;
                    gravity = 0.6;
                    bird.jump = -9;
                    break;
            }
        }

        // ç»˜åˆ¶å°é¸Ÿ
        function drawBird() {
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(bird.x, bird.y, bird.width / 2, 0, Math.PI * 2);
            ctx.fill();
            
            // çœ¼ç›
            ctx.fillStyle = 'white';
            ctx.beginPath();
            ctx.arc(bird.x + 5, bird.y - 5, 5, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = 'black';
            ctx.beginPath();
            ctx.arc(bird.x + 6, bird.y - 5, 2, 0, Math.PI * 2);
            ctx.fill();
            
            // å˜´å·´
            ctx.fillStyle = '#FF8C00';
            ctx.beginPath();
            ctx.moveTo(bird.x + 10, bird.y);
            ctx.lineTo(bird.x + 20, bird.y);
            ctx.lineTo(bird.x + 10, bird.y + 5);
            ctx.fill();
        }

        // ç»˜åˆ¶ç®¡é“
        function drawPipes() {
            pipes.forEach(pipe => {
                ctx.fillStyle = '#2E8B57';
                
                // ä¸Šç®¡é“
                ctx.fillRect(pipe.x, 0, pipe.width, pipe.topHeight);
                
                // ä¸‹ç®¡é“
                ctx.fillRect(pipe.x, canvas.height - pipe.bottomHeight, pipe.width, pipe.bottomHeight);
                
                // ç®¡é“å¸½å­
                ctx.fillStyle = '#228B22';
                ctx.fillRect(pipe.x - 3, pipe.topHeight - 15, pipe.width + 6, 15);
                ctx.fillRect(pipe.x - 3, canvas.height - pipe.bottomHeight, pipe.width + 6, 15);
            });
        }

        // æ›´æ–°ç®¡é“
        function updatePipes() {
            // ç§»åŠ¨ç®¡é“
            pipes.forEach(pipe => {
                pipe.x -= gameSpeed;
            });
            
            // ç§»é™¤å±å¹•å¤–çš„ç®¡é“
            pipes = pipes.filter(pipe => pipe.x + pipe.width > 0);
            
            // æ·»åŠ æ–°ç®¡é“
            if (pipes.length === 0 || pipes[pipes.length - 1].x < canvas.width - 300) {
                const gap = difficulty === 'easy' ? 180 : difficulty === 'normal' ? 160 : 140;
                const minHeight = 50;
                const maxHeight = canvas.height - gap - minHeight;
                
                const topHeight = Math.floor(Math.random() * (maxHeight - minHeight)) + minHeight;
                const bottomHeight = canvas.height - topHeight - gap;
                
                pipes.push({
                    x: canvas.width,
                    width: 60,
                    topHeight: topHeight,
                    bottomHeight: bottomHeight,
                    passed: false
                });
            }
        }

        // æ£€æµ‹ç¢°æ’
        function checkCollision() {
            // æ£€æµ‹ä¸Šä¸‹è¾¹ç•Œ
            if (bird.y - bird.width / 2 <= 0 || bird.y + bird.width / 2 >= canvas.height) {
                return true;
            }
            
            // æ£€æµ‹ç®¡é“ç¢°æ’
            for (let pipe of pipes) {
                if (
                    bird.x + bird.width / 2 > pipe.x && 
                    bird.x - bird.width / 2 < pipe.x + pipe.width
                ) {
                    if (
                        bird.y - bird.height / 2 < pipe.topHeight || 
                        bird.y + bird.height / 2 > canvas.height - pipe.bottomHeight
                    ) {
                        return true;
                    }
                }
                
                // è®¡åˆ†
                if (!pipe.passed && bird.x > pipe.x + pipe.width) {
                    pipe.passed = true;
                    score++;
                    updateScore();
                }
            }
            
            return false;
        }

        // æ›´æ–°åˆ†æ•°æ˜¾ç¤º
        function updateScore() {
            document.getElementById('scoreDisplay').textContent = score;
        }

        // æ¸¸æˆå¾ªç¯
        function gameLoop() {
            if (!gameRunning) return;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶èƒŒæ™¯
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // æ›´æ–°å°é¸Ÿä½ç½®
            bird.velocity += gravity;
            bird.y += bird.velocity;
            
            // æ›´æ–°ç®¡é“
            updatePipes();
            
            // ç»˜åˆ¶å…ƒç´ 
            drawPipes();
            drawBird();
            
            // æ£€æµ‹ç¢°æ’
            if (checkCollision()) {
                gameOver();
                return;
            }
            
            // ç»§ç»­æ¸¸æˆå¾ªç¯
            requestAnimationFrame(gameLoop);
        }

        // æ¸¸æˆç»“æŸ
        function gameOver() {
            gameRunning = false;
            document.getElementById('final-score').textContent = 
                translations[currentLanguage].finalScore + ': ' + score;
            document.getElementById('gameOverMenu').style.display = 'flex';
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            initGame();
            gameRunning = true;
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('gameOverMenu').style.display = 'none';
            gameLoop();
        }

        // åˆ‡æ¢è¯­è¨€
        function changeLanguage() {
            const select = document.getElementById('languageSelect');
            currentLanguage = select.value;
            updateTexts();
        }

        // æ›´æ–°æ‰€æœ‰æ–‡æœ¬
        function updateTexts() {
            const t = translations[currentLanguage];
            
            document.getElementById('game-title').textContent = t.title;
            document.getElementById('menu-title').textContent = t.menuTitle;
            document.getElementById('difficulty-title').textContent = t.difficultyTitle;
            document.getElementById('settings-title').textContent = t.settingsTitle;
            
            document.getElementById('startBtn').textContent = t.startBtn;
            document.getElementById('difficultyBtn').textContent = t.difficultyBtn;
            document.getElementById('settingsBtn').textContent = t.settingsBtn;
            
            document.getElementById('easyBtn').textContent = t.easyBtn;
            document.getElementById('normalBtn').textContent = t.normalBtn;
            document.getElementById('hardBtn').textContent = t.hardBtn;
            
            document.getElementById('backFromDifficulty').textContent = t.backBtn;
            document.getElementById('backFromSettings').textContent = t.backBtn;
            document.getElementById('backToMenu').textContent = t.backToMenu;
            
            document.getElementById('game-mode-label').textContent = t.gameModeLabel;
            document.getElementById('sound-label').textContent = t.soundLabel;
            
            document.getElementById('controls').textContent = t.controls;
            document.getElementById('game-over-title').textContent = t.gameOver;
            document.getElementById('final-score').textContent = t.finalScore + ': 0';
            document.getElementById('restartBtn').textContent = t.restartBtn;
            
            // æ›´æ–°ä¸‹æ‹‰èœå•é€‰é¡¹
            const soundSelect = document.getElementById('soundSetting');
            soundSelect.options[0].text = t.on;
            soundSelect.options[1].text = t.off;
        }

        // äº‹ä»¶ç›‘å¬
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æ¸¸æˆ
            initGame();
            updateTexts();
            
            // è¯­è¨€åˆ‡æ¢
            document.getElementById('languageSelect').addEventListener('change', changeLanguage);
            
            // èœå•æŒ‰é’®
            document.getElementById('startBtn').addEventListener('click', startGame);
            document.getElementById('difficultyBtn').addEventListener('click', function() {
                document.getElementById('mainMenu').style.display = 'none';
                document.getElementById('difficultyMenu').style.display = 'flex';
            });
            document.getElementById('settingsBtn').addEventListener('click', function() {
                document.getElementById('mainMenu').style.display = 'none';
                document.getElementById('settingsMenu').style.display = 'flex';
            });
            
            // éš¾åº¦é€‰æ‹©
            document.getElementById('easyBtn').addEventListener('click', function() {
                difficulty = 'easy';
                document.getElementById('difficultyMenu').style.display = 'none';
                document.getElementById('mainMenu').style.display = 'flex';
            });
            document.getElementById('normalBtn').addEventListener('click', function() {
                difficulty = 'normal';
                document.getElementById('difficultyMenu').style.display = 'none';
                document.getElementById('mainMenu').style.display = 'flex';
            });
            document.getElementById('hardBtn').addEventListener('click', function() {
                difficulty = 'hard';
                document.getElementById('difficultyMenu').style.display = 'none';
                document.getElementById('mainMenu').style.display = 'flex';
            });
            
            // è¿”å›æŒ‰é’®
            document.getElementById('backFromDifficulty').addEventListener('click', function() {
                document.getElementById('difficultyMenu').style.display = 'none';
                document.getElementById('mainMenu').style.display = 'flex';
            });
            document.getElementById('backFromSettings').addEventListener('click', function() {
                document.getElementById('settingsMenu').style.display = 'none';
                document.getElementById('mainMenu').style.display = 'flex';
            });
            
            // æ¸¸æˆç»“æŸæŒ‰é’®
            document.getElementById('restartBtn').addEventListener('click', startGame);
            document.getElementById('backToMenu').addEventListener('click', function() {
                document.getElementById('gameOverMenu').style.display = 'none';
                document.getElementById('mainMenu').style.display = 'flex';
            });
            
            // é”®ç›˜æ§åˆ¶
            document.addEventListener('keydown', function(e) {
                if (e.code === 'Space' && gameRunning) {
                    e.preventDefault();
                    bird.velocity = bird.jump;
                }
            });
            
            // è§¦æ‘¸æ§åˆ¶
            canvas.addEventListener('click', function() {
                if (gameRunning) {
                    bird.velocity = bird.jump;
                }
            });
            
            // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°åˆå§‹åŒ–
            window.addEventListener('resize', function() {
                if (!gameRunning) {
                    initGame();
                }
            });
        });
    </script>
</body>
</html>
